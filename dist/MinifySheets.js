function j(e){window.enmity.plugins.registerPlugin(e)}function a(e){return window.enmity.assets.getIDByName(e)}const y={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,n)=>window.enmity.modules.filters.byName(e,n),byTypeName:(e,n)=>window.enmity.modules.filters.byTypeName(e,n),byDisplayName:(e,n)=>window.enmity.modules.filters.byDisplayName(e,n)};function _(...e){return window.enmity.modules.bulk(...e)}window.enmity.modules.common;const d=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const g=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const X=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const V=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function W(e){return window.enmity.patcher.create(e)}var p="MinifySheets",h="1.0.1",K="Removes unnecessary elements from Action Sheets",S="stable",O=[{name:"Acquite <3",id:"581573474296791211"}],w=[{download:"https://raw.githubusercontent.com/acquitelol/minify-sheets/main/dist/MinifySheets.js",repo:"https://github.com/acquitelol/minify-sheets",user:"https://github.com/acquitelol/"}],J="#ff1f84",Q={name:p,version:h,description:K,release:S,authors:O,plugin:w,color:J};const{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const Z=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl;const ee=o.ScrollView;o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const b=o.Text;o.TextInput,o.TouchableHighlight;const E=o.TouchableOpacity;o.TouchableWithoutFeedback,o.Touchable;const v=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox;const U=o.FormDivider;o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio;const i=o.FormRow,Y=o.FormSection;o.FormSelect,o.FormSubLabel;const oe=o.FormSwitch;o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;const z=(e,n)=>`
            **[Dislate] Debug Information**
> **Version:** ${e}
> **Channel:** ${n}
            `,D=e=>{g.open({content:`Copied ${e} to clipboard.`,source:a("pending-alert")})},T=window.enmity.modules.common.Components.General.Animated,[M,te]=_(y.byProps("transitionToGuild"),y.byProps("setString"));var ne=()=>{const e=V.createThemedStyleSheet({container:{paddingTop:30,paddingLeft:20,marginBottom:-5,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},image:{width:75,height:75,borderRadius:10},main_text:{opacity:.975,letterSpacing:.25},header:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:d.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),n=t.useRef(new T.Value(1)).current,s=()=>{T.spring(n,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},r=()=>{T.spring(n,{toValue:1,duration:250,useNativeDriver:!0}).start()},m=()=>{M.openURL(w[0].repo)},u={transform:[{scale:n}]};return t.createElement(t.Fragment,null,t.createElement(v,{style:e.container},t.createElement(E,{onPress:m,onPressIn:s,onPressOut:r},t.createElement(T.View,{style:[u]},t.createElement(Z,{style:[e.image],source:{uri:"https://i.imgur.com/rl1ga06.png"}}))),t.createElement(v,{style:e.text_container},t.createElement(E,{onPress:()=>{M.openURL(w[0].repo)}},t.createElement(b,{style:[e.main_text,e.header]},p," ")),t.createElement(v,{style:{flexDirection:"row"}},t.createElement(b,{style:[e.main_text,e.sub_header]},"A project by"),t.createElement(E,{onPress:()=>{M.openURL(w[0].user)}},t.createElement(b,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},O[0].name))),t.createElement(v,null,t.createElement(E,{style:{flexDirection:"row"},onPress:()=>{te.setString(z(h,S)),D("debug information")}},t.createElement(b,{style:[e.main_text,e.sub_header]},"Version:"),t.createElement(b,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},h," "))))))};const[ie,G]=_(y.byProps("transitionToGuild"),y.byProps("setString"));var se=({settings:e})=>{const n=a("ic_selection_checked_24px"),s=V.createThemedStyleSheet({icon:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:d.ThemeColorMap.TEXT_MUTED}}),[r,m]=t.useState(),[u,L]=t.useState();return t.createElement(t.Fragment,null,t.createElement(ee,{onTouchStart:c=>{m(c.nativeEvent.pageX),L(c.nativeEvent.pageY)},onTouchEnd:c=>{r-c.nativeEvent.pageX<-100&&u-c.nativeEvent.pageY<40&&u-c.nativeEvent.pageY>-40&&X.pop()}},t.createElement(ne,null),t.createElement(Y,{title:"Utility"},t.createElement(i,{label:"Initialisation Toasts",leading:t.createElement(i.Icon,{style:s.icon,source:a("toast_image_saved")}),subLabel:`Enable Toasts to display Loading State of ${p}`,trailing:t.createElement(oe,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),g.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:n})}})}),t.createElement(U,null),t.createElement(i,{label:"Copy Debug Info",subLabel:`Copy useful debug information of ${p} to clipboard.`,leading:t.createElement(i.Icon,{style:s.icon,source:a("ic_rulebook_16px")}),trailing:i.Arrow,onPress:()=>{G.setString(z(h,S)),D("debug information")}})),t.createElement(U,null),t.createElement(Y,{title:"Source"},t.createElement(i,{label:"Download",subLabel:`Copy the link of ${p} to Clipboard`,leading:t.createElement(i.Icon,{style:s.icon,source:a("toast_copy_link")}),trailing:i.Arrow,onPress:()=>{G.setString(`${w[0].download}?${Math.floor(Math.random()*1001)}.js`),D("download link")}}),t.createElement(i,{label:"Source",subLabel:`Open the Repo of ${p} Externally`,leading:t.createElement(i.Icon,{style:s.icon,source:a("ic_leave_stage")}),trailing:i.Arrow,onPress:()=>{ie.openURL(w[0].repo)}})),t.createElement(i,{label:`Plugin Version: ${h}
Release Channel: ${S}`})))};function q(e,n,s){return window.enmity.settings.getBoolean(e,n,s)}const[ae,ce]=_(y.byProps("openLazy","hideActionSheet"),y.byProps("getChannel","getDMFromUserId")),F=W("minify-sheets"),le={...Q,commands:[],patches:[],onStart(){let e=0,n=3;const s=()=>{try{e++;let r=q("Dislate","toastEnable",!1);console.log(`[MinifySheets] delayed start attempt ${e}/${n}.`),r?g.open({content:`[MinifySheets] start attempt ${e}/${n}.`,source:a("debug")}):console.log("[MinifySheets] Init Toasts are disabled."),F.before(ae,"openLazy",(m,[u,L],c)=>{L==="MessageLongPressActionSheet"&&u.then(H=>{F.after(H,"default",(re,me,f)=>{var C,P,x,A,I;if(!f.props)return console.log('[MinifySheets Local Error: Property "Props" Does not Exist on "res"]'),f;let R=(I=(A=(x=(P=(C=f==null?void 0:f.props)==null?void 0:C.children)==null?void 0:P.props)==null?void 0:x.children)==null?void 0:A.props)==null?void 0:I.children[1];R=R.filter(l=>{var N,$,k,B;return((N=l==null?void 0:l.props)==null?void 0:N.message)!="Mark Unread"&&(($=l==null?void 0:l.props)==null?void 0:$.message)!="Mention"&&((k=l==null?void 0:l.props)==null?void 0:k.message)!="Create Thread"&&((B=l==null?void 0:l.props)==null?void 0:B.message)!="Feature Message"})})})})}catch(r){console.log(`[MinifySheets Local Error ${r}]`);let m=q("Dislate","toastEnable",!1);e<n?(console.warn(`[MinifySheets] failed to start. Trying again in ${e}0s.`),m?g.open({content:`[MinifySheets] failed to start trying again in ${e}0s.`,source:a("ic_message_retry")}):console.log("[MinifySheets] Init toasts are disabled."),setTimeout(s,e*1e4)):(console.error("[MinifySheets] failed to start. Giving up."),m?g.open({content:"[MinifySheets] failed to start. Giving up.",source:a("Small")}):console.log("[MinifySheets] Init toasts are disabled."))}};setTimeout(()=>{s(),this.patches.push(F)},300)},onStop(){this.commands=[],this.patches=[],F.unpatchAll()},getSettingsPanel({settings:e}){return t.createElement(se,{settings:e})}};j(le);
