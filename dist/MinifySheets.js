function Y(e){window.enmity.plugins.registerPlugin(e)}function a(e){return window.enmity.assets.getIDByName(e)}const u={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,n)=>window.enmity.modules.filters.byName(e,n),byTypeName:(e,n)=>window.enmity.modules.filters.byTypeName(e,n),byDisplayName:(e,n)=>window.enmity.modules.filters.byDisplayName(e,n)};function D(...e){return window.enmity.modules.bulk(...e)}window.enmity.modules.common;const c=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const t=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage;const w=window.enmity.modules.common.Toasts;window.enmity.modules.common.Dialog,window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const z=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const R=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes,window.enmity.modules.common.Moment;function G(e){return window.enmity.patcher.create(e)}var y="MinifySheets",g="1.0.0",q="Removes unnecessary elements from Action Sheets",S="stable",$=[{name:"Acquite <3",id:"581573474296791211"}],p=[{download:"https://raw.githubusercontent.com/acquitelol/minify-sheets/main/dist/MinifySheets.js",repo:"https://github.com/acquitelol/minify-sheets",user:"https://github.com/acquitelol/"}],H="#ff1f84",j={name:y,version:g,description:q,release:S,authors:$,plugin:p,color:H};const{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const X=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl;const W=o.ScrollView;o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const h=o.Text;o.TextInput,o.TouchableHighlight;const E=o.TouchableOpacity;o.TouchableWithoutFeedback,o.Touchable;const v=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox;const N=o.FormDivider;o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio;const i=o.FormRow,V=o.FormSection;o.FormSelect,o.FormSubLabel;const K=o.FormSwitch;o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;const k=(e,n)=>`
            **[Dislate] Debug Information**
> **Version:** ${e}
> **Channel:** ${n}
            `,_=e=>{w.open({content:`Copied ${e} to clipboard.`,source:a("pending-alert")})},T=window.enmity.modules.common.Components.General.Animated,[M,J]=D(u.byProps("transitionToGuild"),u.byProps("setString"));var Q=()=>{const e=R.createThemedStyleSheet({container:{paddingTop:30,paddingLeft:20,marginBottom:-5,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},image:{width:75,height:75,borderRadius:10},main_text:{opacity:.975,letterSpacing:.25},header:{color:c.ThemeColorMap.HEADER_PRIMARY,fontFamily:c.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:c.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),n=t.useRef(new T.Value(1)).current,s=()=>{T.spring(n,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},r=()=>{T.spring(n,{toValue:1,duration:250,useNativeDriver:!0}).start()},l=()=>{M.openURL(p[0].repo)},d={transform:[{scale:n}]};return t.createElement(t.Fragment,null,t.createElement(v,{style:e.container},t.createElement(E,{onPress:l,onPressIn:s,onPressOut:r},t.createElement(T.View,{style:[d]},t.createElement(X,{style:[e.image],source:{uri:"https://i.imgur.com/rl1ga06.png"}}))),t.createElement(v,{style:e.text_container},t.createElement(E,{onPress:()=>{M.openURL(p[0].repo)}},t.createElement(h,{style:[e.main_text,e.header]},y," ")),t.createElement(v,{style:{flexDirection:"row"}},t.createElement(h,{style:[e.main_text,e.sub_header]},"A project by"),t.createElement(E,{onPress:()=>{M.openURL(p[0].user)}},t.createElement(h,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:c.Fonts.DISPLAY_BOLD}]},$[0].name))),t.createElement(v,null,t.createElement(E,{style:{flexDirection:"row"},onPress:()=>{J.setString(k(g,S)),_("debug information")}},t.createElement(h,{style:[e.main_text,e.sub_header]},"Version:"),t.createElement(h,{style:[e.main_text,e.sub_header,{paddingLeft:4,fontFamily:c.Fonts.DISPLAY_BOLD}]},g," "))))))};const[Z,B]=D(u.byProps("transitionToGuild"),u.byProps("setString"));var ee=({settings:e})=>{const n=a("ic_selection_checked_24px"),s=R.createThemedStyleSheet({icon:{color:c.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:c.ThemeColorMap.TEXT_MUTED}}),[r,l]=t.useState(),[d,L]=t.useState();return t.createElement(t.Fragment,null,t.createElement(W,{onTouchStart:m=>{l(m.nativeEvent.pageX),L(m.nativeEvent.pageY)},onTouchEnd:m=>{r-m.nativeEvent.pageX<-100&&d-m.nativeEvent.pageY<40&&d-m.nativeEvent.pageY>-40&&z.pop()}},t.createElement(Q,null),t.createElement(V,{title:"Utility"},t.createElement(i,{label:"Initialisation Toasts",leading:t.createElement(i.Icon,{style:s.icon,source:a("toast_image_saved")}),subLabel:`Enable Toasts to display Loading State of ${y}`,trailing:t.createElement(K,{value:e.getBoolean("toastEnable",!1),onValueChange:()=>{e.toggle("toastEnable",!1),w.open({content:`Successfully ${e.getBoolean("toastEnable",!1)?"enabled":"disabled"} Load Toasts.`,source:n})}})}),t.createElement(N,null),t.createElement(i,{label:"Copy Debug Info",subLabel:`Copy useful debug information of ${y} to clipboard.`,leading:t.createElement(i.Icon,{style:s.icon,source:a("ic_rulebook_16px")}),trailing:i.Arrow,onPress:()=>{B.setString(k(g,S)),_("debug information")}})),t.createElement(N,null),t.createElement(V,{title:"Source"},t.createElement(i,{label:"Download",subLabel:`Copy the link of ${y} to Clipboard`,leading:t.createElement(i.Icon,{style:s.icon,source:a("toast_copy_link")}),trailing:i.Arrow,onPress:()=>{B.setString(`${p[0].download}?${Math.floor(Math.random()*1001)}.js`),_("download link")}}),t.createElement(i,{label:"Source",subLabel:`Open the Repo of ${y} Externally`,leading:t.createElement(i.Icon,{style:s.icon,source:a("ic_leave_stage")}),trailing:i.Arrow,onPress:()=>{Z.openURL(p[0].repo)}})),t.createElement(i,{label:`Plugin Version: ${g}
Release Channel: ${S}`})))};function O(e,n,s){return window.enmity.settings.getBoolean(e,n,s)}const[oe,se]=D(u.byProps("openLazy","hideActionSheet"),u.byProps("getChannel","getDMFromUserId")),F=G("minify-sheets"),te={...j,commands:[],patches:[],onStart(){let e=0,n=3;const s=()=>{try{e++;let r=O("Dislate","toastEnable",!1);console.log(`[MinifySheets] delayed start attempt ${e}/${n}.`),r?w.open({content:`[MinifySheets] start attempt ${e}/${n}.`,source:a("debug")}):console.log("[MinifySheets] Init Toasts are disabled."),F.before(oe,"openLazy",(l,[d,L],m)=>{L==="MessageLongPressActionSheet"&&d.then(U=>{F.after(U,"default",(ne,ie,b)=>{var P,C,A,I,x;if(!b.props)return console.log('[MinifySheets Local Error: Property "Props" Does not Exist on "res"]'),b;((x=(I=(A=(C=(P=b==null?void 0:b.props)==null?void 0:P.children)==null?void 0:C.props)==null?void 0:A.children)==null?void 0:I.props)==null?void 0:x.children[1]).filter(f=>f.props.message!=="Mark Unread"||f.props.message!=="Mention"||f.props.message!=="Create Thread"||f.props.message!=="Feature Message")})})})}catch(r){console.log(`[MinifySheets Local Error ${r}]`);let l=O("Dislate","toastEnable",!1);e<n?(console.warn(`[MinifySheets] failed to start. Trying again in ${e}0s.`),l?w.open({content:`[MinifySheets] failed to start trying again in ${e}0s.`,source:a("ic_message_retry")}):console.log("[MinifySheets] Init toasts are disabled."),setTimeout(s,e*1e4)):(console.error("[MinifySheets] failed to start. Giving up."),l?w.open({content:"[MinifySheets] failed to start. Giving up.",source:a("Small")}):console.log("[MinifySheets] Init toasts are disabled."))}};setTimeout(()=>{s(),this.patches.push(F)},300)},onStop(){this.commands=[],this.patches=[],F.unpatchAll()},getSettingsPanel({settings:e}){return t.createElement(ee,{settings:e})}};Y(te);
